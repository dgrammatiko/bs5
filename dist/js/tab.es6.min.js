import{B as BaseComponent,g as getElementFromSelector,S as SelectorEngine,E as EventHandler,a as getTransitionDurationFromElement,T as TRANSITION_END,e as emulateTransitionEnd,r as reflow,D as Data,o as onDOMContentLoaded,b as getjQuery}from"./dom-8eef6b5f.js";const NAME="tab",DATA_KEY="bs.tab",EVENT_KEY=".bs.tab",DATA_API_KEY=".data-api",EVENT_HIDE="hide.bs.tab",EVENT_HIDDEN="hidden.bs.tab",EVENT_SHOW="show.bs.tab",EVENT_SHOWN="shown.bs.tab",EVENT_CLICK_DATA_API="click.bs.tab.data-api",CLASS_NAME_DROPDOWN_MENU="dropdown-menu",CLASS_NAME_ACTIVE="active",CLASS_NAME_DISABLED="disabled",CLASS_NAME_FADE="fade",CLASS_NAME_SHOW="show",SELECTOR_DROPDOWN=".dropdown",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_ACTIVE=".active",SELECTOR_ACTIVE_UL=":scope > li > .active",SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_ACTIVE_CHILD=":scope > .dropdown-menu .active";class Tab extends BaseComponent{static get DATA_KEY(){return"bs.tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active")||this._element.classList.contains("disabled"))return;let t;const e=getElementFromSelector(this._element),a=this._element.closest(".nav, .list-group");if(a){const e="UL"===a.nodeName||"OL"===a.nodeName?SELECTOR_ACTIVE_UL:".active";t=SelectorEngine.find(e,a),t=t[t.length-1]}let o=null;t&&(o=EventHandler.trigger(t,EVENT_HIDE,{relatedTarget:this._element}));if(EventHandler.trigger(this._element,EVENT_SHOW,{relatedTarget:t}).defaultPrevented||null!==o&&o.defaultPrevented)return;this._activate(this._element,a);const n=()=>{EventHandler.trigger(t,EVENT_HIDDEN,{relatedTarget:this._element}),EventHandler.trigger(this._element,EVENT_SHOWN,{relatedTarget:t})};e?this._activate(e,e.parentNode,n):n()}_activate(t,e,a){const o=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?SelectorEngine.children(e,".active"):SelectorEngine.find(SELECTOR_ACTIVE_UL,e))[0],n=a&&o&&o.classList.contains("fade"),s=()=>this._transitionComplete(t,o,a);if(o&&n){const t=getTransitionDurationFromElement(o);o.classList.remove("show"),EventHandler.one(o,TRANSITION_END,s),emulateTransitionEnd(o,t)}else s()}_transitionComplete(t,e,a){if(e){e.classList.remove("active");const t=SelectorEngine.findOne(SELECTOR_DROPDOWN_ACTIVE_CHILD,e.parentNode);t&&t.classList.remove("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(t.classList.add("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&t.parentNode.classList.contains("dropdown-menu")){t.closest(".dropdown")&&SelectorEngine.find(".dropdown-toggle").forEach((t=>t.classList.add("active"))),t.setAttribute("aria-expanded",!0)}a&&a()}static jQueryInterface(t){return this.each((function(){const e=Data.getData(this,"bs.tab")||new Tab(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}if(EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,(function(t){t.preventDefault();(Data.getData(this,"bs.tab")||new Tab(this)).show()})),onDOMContentLoaded((()=>{const t=getjQuery();if(t){const e=t.fn.tab;t.fn.tab=Tab.jQueryInterface,t.fn.tab.Constructor=Tab,t.fn.tab.noConflict=()=>(t.fn.tab=e,Tab.jQueryInterface)}})),window.Joomla){window.Joomla.Bootstrap=window.Joomla.Bootstrap||{},window.Joomla.Bootstrap.Methods=window.Joomla.Bootstrap.Methods||{},window.Joomla.Bootstrap.Instances=window.Joomla.Bootstrap.Instances||{},window.Joomla.Bootstrap.Methods.Tab=Tab,window.Joomla.Bootstrap.Instances.Tab=new WeakMap;const t=Joomla.getOptions("bootstrap.tab");t&&t.length&&t.forEach((t=>{const e=document.querySelector(t);if(e){const t=new Joomla.Bootstrap.Methods.Tab(e);window.Joomla.Bootstrap.Instances.Tab.set(e,t)}}))}export{Tab as T};