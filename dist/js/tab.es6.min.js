import t from"./dom/data.js";import e from"./dom/event-handler.js";import n from"./dom/selector-engine.js";document.documentElement.dir;class a extends class{constructor(e){e&&(this._element=e,t.setData(e,this.constructor.DATA_KEY,this))}dispose(){t.removeData(this._element,this.constructor.DATA_KEY),this._element=null}static getInstance(e){return t.getData(e,this.DATA_KEY)}static get VERSION(){return"5.0.0-beta1"}}{static get DATA_KEY(){return"bs.tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active")||this._element.classList.contains("disabled"))return;let t;const a=(t=>{const e=(t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){const n=t.getAttribute("href");e=n&&"#"!==n?n.trim():null}return e})(this._element);return e?document.querySelector(e):null})(),s=this._element.closest(".nav, .list-group");if(s){const e="UL"===s.nodeName||"OL"===s.nodeName?":scope > li > .active":".active";t=n.find(e,s),t=t[t.length-1]}let i=null;if(t&&(i=e.trigger(t,"hide.bs.tab",{relatedTarget:this._element})),e.trigger(this._element,"show.bs.tab",{relatedTarget:t}).defaultPrevented||null!==i&&i.defaultPrevented)return;this._activate(this._element,s);const o=()=>{e.trigger(t,"hidden.bs.tab",{relatedTarget:this._element}),e.trigger(this._element,"shown.bs.tab",{relatedTarget:t})};a?this._activate(a,a.parentNode,o):o()}_activate(t,a,s){const i=(!a||"UL"!==a.nodeName&&"OL"!==a.nodeName?n.children(a,".active"):n.find(":scope > li > .active",a))[0],o=s&&i&&i.classList.contains("fade"),r=()=>this._transitionComplete(t,i,s);if(i&&o){const t=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const a=Number.parseFloat(e),s=Number.parseFloat(n);return a||s?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0})(i);i.classList.remove("show"),e.one(i,"transitionend",r),((t,e)=>{let n=!1;const a=e+5;t.addEventListener("transitionend",(function e(){n=!0,t.removeEventListener("transitionend",e)})),setTimeout(()=>{n||(t=>{t.dispatchEvent(new Event("transitionend"))})(t)},a)})(i,t)}else r()}_transitionComplete(t,e,a){if(e){e.classList.remove("active");const t=n.findOne(":scope > .dropdown-menu .active",e.parentNode);t&&t.classList.remove("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),(t=>{t.offsetHeight})(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&t.parentNode.classList.contains("dropdown-menu")&&(t.closest(".dropdown")&&n.find(".dropdown-toggle").forEach(t=>t.classList.add("active")),t.setAttribute("aria-expanded",!0)),a&&a()}static jQueryInterface(e){return this.each((function(){const n=t.getData(this,"bs.tab")||new a(this);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}var s;e.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(e){e.preventDefault(),(t.getData(this,"bs.tab")||new a(this)).show()})),s=()=>{const t=(()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null})();if(t){const e=t.fn.tab;t.fn.tab=a.jQueryInterface,t.fn.tab.Constructor=a,t.fn.tab.noConflict=()=>(t.fn.tab=e,a.jQueryInterface)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s(),window.Joomla=window.Joomla||{},window.Joomla.Bootstrap.Tab=a;export default a;
