import{B as BaseComponent,E as EventHandler,r as reflow,a as getTransitionDurationFromElement,T as TRANSITION_END,e as emulateTransitionEnd,M as Manipulator,c as typeCheckConfig,D as Data,o as onDOMContentLoaded,b as getjQuery}from"./dom-8eef6b5f.js";const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=".bs.toast",EVENT_CLICK_DISMISS="click.dismiss.bs.toast",EVENT_HIDE="hide.bs.toast",EVENT_HIDDEN="hidden.bs.toast",EVENT_SHOW="show.bs.toast",EVENT_SHOWN="shown.bs.toast",CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3},SELECTOR_DATA_DISMISS='[data-bs-dismiss="toast"]';class Toast extends BaseComponent{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._setListeners()}static get DefaultType(){return DefaultType}static get Default(){return Default}static get DATA_KEY(){return DATA_KEY}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");const t=()=>{this._element.classList.remove("showing"),this._element.classList.add("show"),EventHandler.trigger(this._element,EVENT_SHOWN),this._config.autohide&&(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay))};if(this._element.classList.remove("hide"),reflow(this._element),this._element.classList.add("showing"),this._config.animation){const e=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,TRANSITION_END,t),emulateTransitionEnd(this._element,e)}else t()}hide(){if(!this._element.classList.contains("show"))return;if(EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const t=()=>{this._element.classList.add("hide"),EventHandler.trigger(this._element,EVENT_HIDDEN)};if(this._element.classList.remove("show"),this._config.animation){const e=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,TRANSITION_END,t),emulateTransitionEnd(this._element,e)}else t()}dispose(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),EventHandler.off(this._element,EVENT_CLICK_DISMISS),super.dispose(),this._config=null}_getConfig(t){return t={...Default,...Manipulator.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}},typeCheckConfig(NAME,t,this.constructor.DefaultType),t}_setListeners(){EventHandler.on(this._element,EVENT_CLICK_DISMISS,SELECTOR_DATA_DISMISS,(()=>this.hide()))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){let e=Data.getData(this,DATA_KEY);if(e||(e=new Toast(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}onDOMContentLoaded((()=>{const t=getjQuery();if(t){const e=t.fn.toast;t.fn.toast=Toast.jQueryInterface,t.fn.toast.Constructor=Toast,t.fn.toast.noConflict=()=>(t.fn.toast=e,Toast.jQueryInterface)}})),Joomla=Joomla||{},Joomla.Bootstrap=Joomla.Bootstrap||{},Joomla.Bootstrap.Initialise=Joomla.Bootstrap.Initialise||{},Joomla.Bootstrap.Instances=Joomla.Bootstrap.Instances||{},Joomla.Bootstrap.Initialise.Toast=initiator,Joomla.Bootstrap.Instances.Toast=new WeakMap,Joomla.Bootstrap.Initialise.Toast=(t,e)=>{t instanceof Element&&(Joomla.Bootstrap.Instances.Toast.get(t)&&t.dispose(),Joomla.Bootstrap.Instances.Toast.set(t,new Toast(t,e)))};const toasts=Joomla.getOptions("bootstrap.toast");toasts&&Object.keys(toasts).map((t=>{const e=toasts[t],s={animation:!e.animation||e.animation,autohide:!e.autohide||e.autohide,delay:e.delay?e.delay:5e3};Array.from(document.querySelectorAll(t)).map((t=>Joomla.Bootstrap.Initialise.Toast(t,s)))}));export{Toast as T};